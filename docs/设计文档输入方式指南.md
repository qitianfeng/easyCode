# 设计文档输入方式指南

## 📋 概述

当您已经有现成的开发设计文档时，可以直接从设计文档开始开发流程，跳过需求分析阶段。我们支持多种设计文档输入方式。

## 🔄 设计文档开发流程

```
设计文档解析 → 现有架构识别 → 代码生成 → 质量检查 → 测试生成
```

**与完整流程的区别**：
- ✅ **跳过**：需求分析、用户故事生成、架构设计
- ✅ **直接从**：设计文档开始
- ✅ **适用于**：已有详细技术设计的项目

## 📄 支持的设计文档输入方式

### 方式1：设计文档文件

#### 使用场景
- 已有完整的技术设计文档
- 文档包含架构设计、数据库设计、API设计等
- 支持多种文档格式

#### 使用方法
```
用户：我有一个技术设计文档，直接帮我生成代码

AI：请提供您的设计文档文件路径

用户：D:\项目文档\用户管理系统技术设计.md

AI：@design-document-parser 解析设计文档...

解析结果：
✅ 文档类型：Markdown技术设计文档
✅ 系统概述：用户管理系统
✅ 架构设计：分层架构 + Spring Boot
✅ 数据库设计：5个表，MySQL
✅ API设计：RESTful API，15个接口
✅ 模块设计：用户模块、权限模块、日志模块
✅ 技术栈：Spring Boot + Vue.js + MySQL
```

#### 支持的文档格式
- **Markdown (.md)** - 推荐格式
- **Word文档 (.docx)**
- **纯文本 (.txt)**
- **JSON格式 (.json)**

#### 设计文档结构建议
```markdown
# 用户管理系统技术设计文档

## 1. 系统概述
项目名称：用户管理系统
系统描述：提供用户注册、登录、权限管理等功能

## 2. 架构设计
架构模式：分层架构
系统组件：
- 表现层：Spring MVC Controllers
- 业务层：Service层
- 数据层：Repository层

## 3. 数据库设计
数据库：MySQL 8.0
表设计：
- users表：用户基本信息
- roles表：角色信息
- permissions表：权限信息

## 4. API设计
API风格：RESTful API
接口列表：
- POST /api/users - 创建用户
- GET /api/users/{id} - 获取用户
- PUT /api/users/{id} - 更新用户

## 5. 模块设计
模块：UserModule
组件：UserService
服务：AuthService

## 6. 技术栈
后端：Spring Boot 2.7, Spring Security
前端：Vue.js 3.0, Element Plus
数据库：MySQL 8.0, Redis
```

### 方式2：设计文档URL

#### 使用场景
- 设计文档在线存储（Confluence、Notion等）
- 团队共享的设计文档
- Wiki形式的技术文档

#### 使用方法
```
用户：我的设计文档在Confluence上，链接是...

AI：@design-document-parser 解析在线设计文档...

支持的URL类型：
- Confluence: https://company.atlassian.net/wiki/...
- Notion: https://notion.so/...
- 其他Wiki平台
```

### 方式3：设计截图

#### 使用场景
- 设计文档以图片形式保存
- 手绘的架构图和设计图
- 移动端查看的设计文档截图

#### 使用方法
```
用户：我把设计文档截图放在文件夹里了

AI：@design-document-parser 解析设计截图...

处理结果：
✅ OCR识别技术文档内容
✅ 提取架构设计信息
✅ 识别数据库表结构
✅ 解析API接口定义
```

### 方式4：直接文本输入

#### 使用场景
- 简单的设计说明
- 临时的技术方案
- 快速原型设计

#### 使用方法
```
用户：我直接说设计方案

AI：请输入您的技术设计内容

用户：采用Spring Boot分层架构，包括用户管理、权限管理两个模块。数据库使用MySQL，包括users、roles、permissions三个表。API采用RESTful风格...

AI：@design-document-parser 解析设计内容...
```

## 🚀 完整使用流程示例

### 典型场景：从设计文档到代码

```
用户：我有一个完整的技术设计文档，帮我直接生成代码

第1步：设计文档解析
AI：@design-document-parser 解析设计文档...

解析结果：
✅ 项目名称：订单管理系统
✅ 架构模式：分层架构
✅ 技术栈：Spring Boot + MySQL + Vue.js
✅ 数据库设计：
   - orders表：订单信息
   - order_items表：订单项
   - products表：商品信息
✅ API设计：
   - POST /api/orders - 创建订单
   - GET /api/orders/{id} - 查询订单
   - PUT /api/orders/{id} - 更新订单
✅ 模块设计：
   - OrderModule：订单管理
   - ProductModule：商品管理

第2步：现有架构识别
AI：@project-architecture-analyzer 识别现有项目架构...

识别结果：
✅ 现有项目：Spring Boot分层架构
✅ 包结构：com.example.ecommerce.{controller,service,repository}
✅ 编码规范：PascalCase类名，camelCase方法名
✅ 数据库规范：snake_case表名和字段名

第3步：智能代码生成
AI：@intelligent-code-generator 基于设计文档和现有架构生成代码...

生成策略：
✅ 遵循设计文档的模块划分
✅ 符合现有项目的架构模式
✅ 使用现有项目的编码规范
✅ 实现设计文档中的API接口

生成结果：
📁 com/example/ecommerce/controller/
   ├── OrderController.java
   └── ProductController.java

📁 com/example/ecommerce/service/
   ├── OrderService.java
   └── ProductService.java

📁 com/example/ecommerce/repository/
   ├── OrderRepository.java
   └── ProductRepository.java

📁 com/example/ecommerce/entity/
   ├── Order.java
   ├── OrderItem.java
   └── Product.java

📁 src/main/resources/db/migration/
   ├── V001__create_orders_table.sql
   ├── V002__create_order_items_table.sql
   └── V003__create_products_table.sql

第4步：代码质量检查
AI：@code-standard-checker 检查生成代码...

检查结果：
✅ 架构一致性：100%符合
✅ 编码规范：100%符合
✅ 设计实现：100%覆盖设计文档要求

第5步：测试生成
AI：@test-generator 生成测试用例...

测试结果：
✅ 单元测试：覆盖所有业务逻辑
✅ 集成测试：覆盖API接口
✅ 数据库测试：覆盖数据访问层
```

## 📊 设计文档解析能力

### 自动识别的设计要素

#### 1. 系统概述
- 项目名称和描述
- 系统目标和范围
- 核心功能概述

#### 2. 架构设计
- 架构模式（分层、微服务、六边形等）
- 系统组件和模块
- 层次结构和依赖关系

#### 3. 数据库设计
- 数据库类型和版本
- 表结构和字段定义
- 索引和约束设计
- 表间关系

#### 4. API设计
- API风格（RESTful、GraphQL等）
- 接口端点和HTTP方法
- 请求响应格式
- 认证授权方式

#### 5. 模块设计
- 业务模块划分
- 组件职责定义
- 服务接口设计

#### 6. 技术栈
- 后端框架和技术
- 前端框架和技术
- 数据库和中间件
- 开发工具和部署方案

## 🎯 最佳实践

### 1. 设计文档质量
```
高质量的设计文档应包含：
✅ 清晰的架构设计
✅ 详细的数据库设计
✅ 完整的API接口定义
✅ 明确的模块划分
✅ 具体的技术栈选择
```

### 2. 文档结构建议
```
推荐的文档结构：
1. 系统概述
2. 架构设计
3. 数据库设计
4. API设计
5. 模块设计
6. 技术栈
7. 部署方案
8. 安全设计
```

### 3. 与现有项目结合
```
生成代码时会：
✅ 保持现有项目的架构风格
✅ 遵循现有的编码规范
✅ 使用现有的技术栈
✅ 符合现有的目录结构
```

## ⚠️ 注意事项

### 1. 设计文档完整性
- 确保设计文档包含足够的技术细节
- 模块划分要清晰明确
- API接口定义要完整

### 2. 与现有项目兼容性
- 新模块要与现有架构兼容
- 数据库设计要考虑现有表结构
- API设计要保持风格一致

### 3. 技术栈一致性
- 优先使用现有项目的技术栈
- 新技术引入需要谨慎评估
- 保持依赖版本的兼容性

这种从设计文档直接开始的开发方式，让您可以跳过需求分析阶段，直接进入代码实现，大大提升开发效率！
